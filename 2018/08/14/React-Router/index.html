<!DOCTYPE html>
<html lang="en">
<title>Amy Tong's Blog</title>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="前端技术">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        React-Router - undefined
        
    </title>
    <a href="https://github.com/Amy-Tong126" class="github-corner" aria-label="View source on Github" target=_blank>
        <svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true">
            <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
            <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
            <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
        </svg>
    </a>
    <style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/aircloud.css">
    <link rel="stylesheet" href="/css/gitment.css">
    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
</head>

<body>
<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> Nothing is impossible for a willing heart! </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar">
            <img src="https://avatars3.githubusercontent.com/u/36943014?s=400&amp;u=05f8eb07b830314811e8aedc3b1f4ac50d6118d2&amp;v=4" />
        </div>
        <div class="name">
            <i>Amy Tong</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>主页</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>存档</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>关于</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>搜索</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#React-Router-的基本应用"><span class="toc-text">React-Router 的基本应用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#react-router-vs-react-router-dom"><span class="toc-text">react-router  vs  react-router-dom</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#快速上手"><span class="toc-text">快速上手</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#命令行依次输入"><span class="toc-text">命令行依次输入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#入口文件路由配置-index-js"><span class="toc-text">入口文件路由配置(index.js)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#App组件中定义路由"><span class="toc-text">App组件中定义路由</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#总结"><span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#路由传值"><span class="toc-text">路由传值</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#params传值"><span class="toc-text">params传值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#query传值"><span class="toc-text">query传值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#state传值–秘密传递"><span class="toc-text">state传值–秘密传递</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#路由跳转"><span class="toc-text">路由跳转</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Link"><span class="toc-text">Link</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Push"><span class="toc-text">Push</span></a></li></ol></li></ol></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>
        <div class="index-about-mobile">
            <i> Nothing is impossible for a willing heart! </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        React-Router
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2018-08-14 15:56:45</span></span>
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content ">
        <h1 id="React-Router-的基本应用"><a href="#React-Router-的基本应用" class="headerlink" title="React-Router 的基本应用"></a>React-Router 的基本应用</h1><h2 id="react-router-vs-react-router-dom"><a href="#react-router-vs-react-router-dom" class="headerlink" title="react-router  vs  react-router-dom"></a><strong>react-router  vs  react-router-dom</strong></h2><p>Note: This package provides the core routing functionality for React Router, but you might not want to install it directly. If you are writing an application that will run in the browser, you should instead install react-router-dom. Similarly, if you are writing a React Native application, you should instead install react-router-native. Both of those will install react-router as a dependency.﻿<img src="https://images-cdn.shimo.im/qMWFSzthHnU49CvC/image.png!thumbnail" alt="img">﻿</p>
<p>​    官方文档：<a href="https://reacttraining.com/react-router/web/guides/philosophy" target="_blank" rel="noopener">https://reacttraining.com/react-router/web/guides/philosophy</a></p>
<h2 id="快速上手"><a href="#快速上手" class="headerlink" title="快速上手"></a><strong>快速上手</strong></h2><h3 id="命令行依次输入"><a href="#命令行依次输入" class="headerlink" title="命令行依次输入"></a>命令行依次输入</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//项目构建</span><br><span class="line">npm install -g create-react-app</span><br><span class="line">create-react-app demo-app</span><br><span class="line">cd demo-app</span><br><span class="line"></span><br><span class="line">//安装react-router-dom</span><br><span class="line">npm install react-router-dom</span><br></pre></td></tr></table></figure>
<h3 id="入口文件路由配置-index-js"><a href="#入口文件路由配置-index-js" class="headerlink" title="入口文件路由配置(index.js)"></a>入口文件路由配置(index.js)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">import React from &apos;react&apos;;</span><br><span class="line">import ReactDOM from &quot;react-dom&quot;;</span><br><span class="line">import &#123;</span><br><span class="line">  HashRouter as Router,</span><br><span class="line">  Route,</span><br><span class="line">  Link,</span><br><span class="line">  Switch</span><br><span class="line">&#125; from &apos;react-router-dom&apos;</span><br><span class="line"></span><br><span class="line">//这里使用引入的App组件</span><br><span class="line">import App from &apos;./App&apos;;</span><br><span class="line"></span><br><span class="line">ReactDOM.render((</span><br><span class="line">    &lt;HashRouter&gt;</span><br><span class="line">        &lt;Route path=&apos;/&apos; component=&#123;App&#125;/&gt;</span><br><span class="line">    &lt;/HashRouter&gt;</span><br><span class="line">), document.getElementById(&apos;root&apos;));</span><br></pre></td></tr></table></figure>
<h3 id="App组件中定义路由"><a href="#App组件中定义路由" class="headerlink" title="App组件中定义路由"></a>App组件中定义路由</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">import React from &apos;react&apos;;</span><br><span class="line">import ReactDOM from &quot;react-dom&quot;;</span><br><span class="line">import &#123;</span><br><span class="line">  HashRouter as Router,</span><br><span class="line">  Route,</span><br><span class="line">  Link,</span><br><span class="line">  Switch</span><br><span class="line">&#125; from &apos;react-router-dom&apos;</span><br><span class="line"></span><br><span class="line">class App extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div className=&quot;App&quot;&gt;</span><br><span class="line">        &lt;header&gt;这是头部公共部分&lt;/header&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &#123;/*路由配置*/&#125;</span><br><span class="line">            &lt;Switch&gt;</span><br><span class="line">                &lt;Route path=&apos;/list/:index&apos; component=&#123;List&#125;/&gt;</span><br><span class="line">                &lt;Route path=&apos;/detail/:id&apos; component=&#123;Detail&#125;/&gt;</span><br><span class="line">                &lt;Route exact path=&apos;/&apos; component=&#123;Home&#125;/&gt;</span><br><span class="line">            &lt;/Switch&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default App;</span><br></pre></td></tr></table></figure>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ul>
<li>核心思想：router 是一个组件容器，可以装一部分公共部分，可以在剩下需要切换的部分直接进行路由配置。</li>
<li>Switch：当某一路由同时符合多个路由规则会带来麻烦，当我们需要一个路由只为一匹配一个路由规则时，需要switch，switch匹配到一个后不再继续匹配后面的，精准匹配需要给route添加exact属性。</li>
</ul>
<h2 id="路由传值"><a href="#路由传值" class="headerlink" title="路由传值"></a>路由传值</h2><h3 id="params传值"><a href="#params传值" class="headerlink" title="params传值"></a>params传值</h3><p>路由配置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Route path=&apos;/detail/:id&apos; component=&#123;Detail&#125;/&gt;</span><br></pre></td></tr></table></figure>
<p>跳转页面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;Link to=&#123;&apos;/detail/2&apos;&#125; &gt;XXXX&lt;/Link&gt;</span><br><span class="line">//或者</span><br><span class="line">this.props.history.push(&quot;/detail/2&quot;)</span><br></pre></td></tr></table></figure>
<p>获取页面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.props.match.params.id</span><br></pre></td></tr></table></figure>
<p>当然也可以传多个</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;Route exact path=&quot;/rgb/:r/:g/:b&quot; component=&#123;RGB&#125; /&gt;</span><br><span class="line">this.props.match.params.r</span><br><span class="line">this.props.match.params.g</span><br><span class="line">this.props.match.params.b</span><br></pre></td></tr></table></figure>
<h3 id="query传值"><a href="#query传值" class="headerlink" title="query传值"></a>query传值</h3><p>注意：路由配置不需要修改，传递一个对象，对象属性包含pathname 和 query ，query属性的值是要传递的对象。</p>
<p>跳转页面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;Link to=&#123;&#123; pathname: &apos;/detail&apos;,query:&#123;type:&apos;sex&apos;&#125;&#125;&#125;&gt;XXXX&lt;/Link&gt;</span><br><span class="line">//或者</span><br><span class="line">this.props.history.push(&#123;pathname:&apos;/detail&apos;,query:&#123;type:&apos;sex&apos;&#125;&#125;)</span><br></pre></td></tr></table></figure>
<p>获取页面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.props.location.query.sex//建议不用 刷新页面时 丢失</span><br></pre></td></tr></table></figure>
<h3 id="state传值–秘密传递"><a href="#state传值–秘密传递" class="headerlink" title="state传值–秘密传递"></a>state传值–秘密传递</h3><p>注意：同query相似，state传的参数不可见，query传的参数在地址栏可见；</p>
<p>跳转页面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;Link to=&#123;&#123; pathname: &apos;/detail&apos;,state:&#123;type:&apos;sex&apos;&#125;&#125;&#125;&gt;XXXX&lt;/Link&gt;</span><br><span class="line">//或者</span><br><span class="line">this.props.history.push(&#123;pathname:&apos;/detail&apos;,state:&#123;type:&apos;sex&apos;&#125;&#125;)</span><br></pre></td></tr></table></figure>
<p>获取页面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.props.location.state.sex//建议不用 刷新页面时 丢失</span><br></pre></td></tr></table></figure>
<h2 id="路由跳转"><a href="#路由跳转" class="headerlink" title="路由跳转"></a>路由跳转</h2><h3 id="Link"><a href="#Link" class="headerlink" title="Link"></a>Link</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Link to=&quot;/detail/10003&quot;&gt;详情&lt;/Link&gt;</span><br></pre></td></tr></table></figure>
<h3 id="Push"><a href="#Push" class="headerlink" title="Push"></a>Push</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.props.history.push(&quot;/&quot;)</span><br></pre></td></tr></table></figure>
<hr>

        
            <div class="donate-container">
    <div class="donate-button">
        <button id="donate-button">赞赏</button>
    </div>
    <div class="donate-img-container hide" id="donate-img-container">
        <img id="donate-img" src="" data-src="/img/donate.jpg">
        <p> 感谢鼓励 </p>
    </div>
</div>
        
        <div id="comment-container">
        </div>
    </div>
</div>
        <div id="container"></div>
    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        

        

    </ul>
    
</footer>




</body>
<!--动态效果-->
<script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js"></script>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<!--评论-->

<script src="/js/gitment.js"></script>


<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
    var gitment = new Gitment({
        // id: location.href, // 可选。默认为 location.href
        owner: 'amy-tong126',
        repo: 'https://github.com/Amy-Tong126/Commits.git',
        oauth: {
            client_id: 'bd61aa77856ba4ceaee5',
            client_secret: 'b91c89fdb07fb2c9c62201a24c43de0d780400f3',
        },
    })
    gitment.render('container')
</script>


</html>

<!DOCTYPE html>
<html lang="en">
<title>Amy Tong's Blog</title>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="前端技术">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        react项目构建及配置(create-react-app) - undefined
        
    </title>
    <a href="https://github.com/Amy-Tong126" class="github-corner" aria-label="View source on Github" target=_blank>
        <svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true">
            <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
            <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
            <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
        </svg>
    </a>
    <style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/aircloud.css">
    <link rel="stylesheet" href="/css/gitment.css">
    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
</head>

<body>
<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> Nothing is impossible for a willing heart! </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar">
            <img src="https://avatars3.githubusercontent.com/u/36943014?s=400&amp;u=05f8eb07b830314811e8aedc3b1f4ac50d6118d2&amp;v=4" />
        </div>
        <div class="name">
            <i>Amy Tong</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>主页</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>存档</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>关于</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>搜索</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#react项目构建及配置-create-react-app"><span class="toc-text">react项目构建及配置(create-react-app)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#一、命令行依次输入如下的命令"><span class="toc-text">一、命令行依次输入如下的命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二、public文件"><span class="toc-text">二、public文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#三、src文件夹"><span class="toc-text">三、src文件夹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#四、四个命令"><span class="toc-text">四、四个命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#五、antd-mobile-antd-配置"><span class="toc-text">五、antd-mobile/antd 配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1、安装antd-antd-mobile"><span class="toc-text">1、安装antd/antd-mobile</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2、引入-react-app-rewired-并修改-package-json-里的启动配置"><span class="toc-text">2、引入 react-app-rewired 并修改 package.json 里的启动配置:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3、然后在项目根目录创建一个-config-overrides-js-用于修改默认配置。"><span class="toc-text">3、然后在项目根目录创建一个 config-overrides.js 用于修改默认配置。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#"><span class="toc-text"> </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4、安装-babel-plugin-import"><span class="toc-text">4、安装 babel-plugin-import</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5、组件内引用"><span class="toc-text">5、组件内引用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#六、less-配置"><span class="toc-text">六、less 配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-安装所需less依赖"><span class="toc-text">1.安装所需less依赖</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-安装react-app-rewire-less"><span class="toc-text">2.安装react-app-rewire-less</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-根目录下找到刚才的config-overrides-js-继续修改配置"><span class="toc-text">3.根目录下找到刚才的config-overrides.js 继续修改配置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#七、antd-mobile-antd-配置（弹出内建配置）"><span class="toc-text">七、antd-mobile/antd 配置（弹出内建配置）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-弹出配置文件"><span class="toc-text">1.弹出配置文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-安装antd-antd-mobile"><span class="toc-text">2.安装antd/antd-mobile</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-安装-babel-plugin-import"><span class="toc-text">3.安装 babel-plugin-import</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-修改package-json文件"><span class="toc-text">4.修改package.json文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#八、less-配置（弹出内建配置）"><span class="toc-text">八、less 配置（弹出内建配置）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-安装所需less依赖-1"><span class="toc-text">1.安装所需less依赖</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-修改配置文件"><span class="toc-text">2.修改配置文件</span></a></li></ol></li></ol></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>
        <div class="index-about-mobile">
            <i> Nothing is impossible for a willing heart! </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        react项目构建及配置(create-react-app)
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2018-09-06 05:04:52</span></span>
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content ">
        <h1 id="react项目构建及配置-create-react-app"><a href="#react项目构建及配置-create-react-app" class="headerlink" title="react项目构建及配置(create-react-app)"></a>react项目构建及配置(create-react-app)</h1><h2 id="一、命令行依次输入如下的命令"><a href="#一、命令行依次输入如下的命令" class="headerlink" title="一、命令行依次输入如下的命令"></a>一、<strong>命令行依次输入如下的命令</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm install -g create-react-app</span><br><span class="line">create-react-app my-app</span><br><span class="line"></span><br><span class="line">cd my-app</span><br><span class="line">npm start</span><br></pre></td></tr></table></figure>
<p>创建完成后文件的结构如下：</p>
<p> <img src="https://images-cdn.shimo.im/fl3lYIPljbMFwXTq/image.png!thumbnail" alt="img"> </p>
<h2 id="二、public文件"><a href="#二、public文件" class="headerlink" title="二、public文件"></a><strong>二、public文件</strong></h2><p>public/favicon.ico           </p>
<p>html的ico 图标，在index.html中会有引入；</p>
<p>可以使用图片，通过线上ico图标制作出，</p>
<p>.ico图标来替换react默认的public/manifest.json      </p>
<p>app配置文件，设置icons，首页路径等； </p>
<h2 id="三、src文件夹"><a href="#三、src文件夹" class="headerlink" title="三、src文件夹"></a>三、<strong>src文件夹</strong></h2><p>src/index.js 是入口文件</p>
<p>src/App.js是最大的组件App</p>
<p>src/registerserviceworker.js 用来做资源离线的缓存，</p>
<p>注意：registerServiceWorker注册的service worker 只在生产环境(正式环境)中生效。 </p>
<h2 id="四、四个命令"><a href="#四、四个命令" class="headerlink" title="四、四个命令"></a>四、<strong>四个命令</strong></h2><p>① npm start 启动项目，在 <a href="http://localhost:3000" target="_blank" rel="noopener">http://localhost:3000</a>查看项目运行 </p>
<p>② npm run build 项目打包，生成一个build文件夹，如下 </p>
<p><img src="https://images-cdn.shimo.im/0rM65DV2o4MSpnoS/image.png!thumbnail" alt="img"> </p>
<p>③ npm run eject 弹出配置文件–不可逆操作–用于修改默认的配置</p>
<p>当对react-script配置好的构建工具和配置项不满意时使用这个命令，他将命令运行的脚本js分离出来，输入命令时指向的是这些脚本，你可以根据情况调整这些代码。 </p>
<p>④ npm test –测试 </p>
<h2 id="五、antd-mobile-antd-配置"><a href="#五、antd-mobile-antd-配置" class="headerlink" title="五、antd-mobile/antd 配置"></a>五、<strong>antd-mobile/antd 配置</strong></h2><h3 id="1、安装antd-antd-mobile"><a href="#1、安装antd-antd-mobile" class="headerlink" title="1、安装antd/antd-mobile"></a>1、安装antd/antd-mobile</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install antd --save</span><br><span class="line">//或者</span><br><span class="line">npm install antd-mobile --save</span><br></pre></td></tr></table></figure>
<h3 id="2、引入-react-app-rewired-并修改-package-json-里的启动配置"><a href="#2、引入-react-app-rewired-并修改-package-json-里的启动配置" class="headerlink" title="2、引入 react-app-rewired 并修改 package.json 里的启动配置:"></a>2、引入 <a href="https://github.com/timarney/react-app-rewired" target="_blank" rel="noopener">react-app-rewired</a> 并修改 package.json 里的启动配置:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install react-app-rewired --save-dev</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/* package.json */</span><br><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">-   &quot;start&quot;: &quot;react-scripts start&quot;,</span><br><span class="line">+   &quot;start&quot;: &quot;react-app-rewired start&quot;,</span><br><span class="line">-   &quot;build&quot;: &quot;react-scripts build&quot;,</span><br><span class="line">+   &quot;build&quot;: &quot;react-app-rewired build&quot;,</span><br><span class="line">-   &quot;test&quot;: &quot;react-scripts test --env=jsdom&quot;,</span><br><span class="line">+   &quot;test&quot;: &quot;react-app-rewired test --env=jsdom&quot;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3、然后在项目根目录创建一个-config-overrides-js-用于修改默认配置。"><a href="#3、然后在项目根目录创建一个-config-overrides-js-用于修改默认配置。" class="headerlink" title="3、然后在项目根目录创建一个 config-overrides.js 用于修改默认配置。"></a>3、然后在项目根目录创建一个 config-overrides.js 用于修改默认配置。</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">module.exports = function override(config, env) &#123;</span><br><span class="line">  // do stuff with the webpack config...</span><br><span class="line">  return config;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id=""><a href="#" class="headerlink" title=" "></a> </h3><h3 id="4、安装-babel-plugin-import"><a href="#4、安装-babel-plugin-import" class="headerlink" title="4、安装 babel-plugin-import"></a>4、安装 babel-plugin-import</h3><p> <a href="https://github.com/ant-design/babel-plugin-import" target="_blank" rel="noopener">babel-plugin-import</a> 是一个用于按需加载组件代码和样式的 babel 插件（<a href="https://ant.design/docs/react/getting-started-cn#%E6%8C%89%E9%9C%80%E5%8A%A0%E8%BD%BD" target="_blank" rel="noopener">原理</a>），现在我们尝试安装它并修改 config-overrides.js 文件。 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install babel-plugin-import --save-dev</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">+ const &#123; injectBabelPlugin &#125; = require(&apos;react-app-rewired&apos;);</span><br><span class="line">  module.exports = function override(config, env) &#123;</span><br><span class="line">+   config = injectBabelPlugin([&apos;import&apos;, &#123; libraryName: &apos;antd-mobile&apos;, style: &apos;css&apos; &#125;], config);</span><br><span class="line">    return config;</span><br><span class="line">  &#125;;</span><br></pre></td></tr></table></figure>
<h3 id="5、组件内引用"><a href="#5、组件内引用" class="headerlink" title="5、组件内引用"></a>5、组件内引用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- import Button from &apos;antd-mobile/lib/button&apos;;</span><br><span class="line">+ import &#123; Button &#125; from &apos;antd-mobile&apos;;</span><br></pre></td></tr></table></figure>
<h2 id="六、less-配置"><a href="#六、less-配置" class="headerlink" title="六、less 配置"></a>六、<strong>less 配置</strong></h2><h3 id="1-安装所需less依赖"><a href="#1-安装所需less依赖" class="headerlink" title="1.安装所需less依赖"></a>1.安装所需less依赖</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install less-loader less --save-dev</span><br></pre></td></tr></table></figure>
<h3 id="2-安装react-app-rewire-less"><a href="#2-安装react-app-rewire-less" class="headerlink" title="2.安装react-app-rewire-less"></a>2.安装react-app-rewire-less</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev react-app-rewire-less</span><br></pre></td></tr></table></figure>
<h3 id="3-根目录下找到刚才的config-overrides-js-继续修改配置"><a href="#3-根目录下找到刚才的config-overrides-js-继续修改配置" class="headerlink" title="3.根目录下找到刚才的config-overrides.js 继续修改配置"></a>3.根目录下找到刚才的config-overrides.js 继续修改配置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/* config-overrides.js */</span><br><span class="line">const &#123; injectBabelPlugin &#125; = require(&apos;react-app-rewired&apos;);</span><br><span class="line">+ const rewireLess = require(&apos;react-app-rewire-less&apos;);</span><br><span class="line"></span><br><span class="line">module.exports = function override(config, env) &#123;</span><br><span class="line">    config = injectBabelPlugin([&apos;import&apos;, &#123; libraryName: &apos;antd&apos;, libraryDirectory: &apos;es&apos;, style: &apos;css&apos; &#125;], config);</span><br><span class="line">    + config = rewireLess.withLoaderOptions(&#123;modifyVars: &#123; &quot;@primary-color&quot;: &quot;#1DA57A&quot; &#125;&#125;)(config, env);</span><br><span class="line">    return config;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="七、antd-mobile-antd-配置（弹出内建配置）"><a href="#七、antd-mobile-antd-配置（弹出内建配置）" class="headerlink" title="七、antd-mobile/antd 配置（弹出内建配置）"></a>七、<strong>antd-mobile/antd 配置（弹出内建配置）</strong></h2><h3 id="1-弹出配置文件"><a href="#1-弹出配置文件" class="headerlink" title="1.弹出配置文件"></a>1.弹出配置文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run eject</span><br></pre></td></tr></table></figure>
<p>弹出的配置文件如下，弹出了config文件夹和scripts文件夹</p>
<p>config文件夹—-中的配置文件可供修改</p>
<p>scripts文件夹—-作为命令对应要运行的文件 </p>
<p><img src="https://images-cdn.shimo.im/SB0P0bSCpuAJ7agy/image.png!thumbnail" alt="img"> </p>
<p>弹出后注意修改package.json 里启动命令的配置 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;start&quot;: &quot;node scripts/start.js&quot;,</span><br><span class="line">    &quot;build&quot;: &quot;node scripts/build.js&quot;,</span><br><span class="line">    &quot;test&quot;: &quot;node scripts/test.js --env=jsdom&quot;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<h3 id="2-安装antd-antd-mobile"><a href="#2-安装antd-antd-mobile" class="headerlink" title="2.安装antd/antd-mobile"></a>2.安装antd/antd-mobile</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install antd --save</span><br><span class="line">//或者</span><br><span class="line">npm install antd-mobile --save</span><br></pre></td></tr></table></figure>
<h3 id="3-安装-babel-plugin-import"><a href="#3-安装-babel-plugin-import" class="headerlink" title="3.安装 babel-plugin-import"></a>3.安装 babel-plugin-import</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install babel-plugin-import --save-dev</span><br></pre></td></tr></table></figure>
<h3 id="4-修改package-json文件"><a href="#4-修改package-json文件" class="headerlink" title="4.修改package.json文件"></a>4.修改package.json文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&quot;babel&quot;: &#123;</span><br><span class="line">  &quot;presets&quot;: [</span><br><span class="line">    &quot;react-app&quot;</span><br><span class="line">  ],</span><br><span class="line">+  &quot;plugins&quot;: [</span><br><span class="line">+     [</span><br><span class="line">+       &quot;import&quot;,</span><br><span class="line">+      &#123;</span><br><span class="line">+         &quot;libraryName&quot;: &quot;antd&quot;,</span><br><span class="line">+         &quot;style&quot;: &quot;css&quot;</span><br><span class="line">+       &#125;</span><br><span class="line">+     ]</span><br><span class="line">+  ],</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>或者根目录下新建一个.babelrc，</p>
<p>写入如下的代码，这个文件将把package.json的babel的配置对象完全覆盖掉 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   &quot;presets&quot;: [</span><br><span class="line">      &quot;react-app&quot;</span><br><span class="line">    ],</span><br><span class="line">    &quot;plugins&quot;: [</span><br><span class="line">      [</span><br><span class="line">        &quot;import&quot;,</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;libraryName&quot;: &quot;antd&quot;,</span><br><span class="line">          &quot;style&quot;: &quot;css&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="八、less-配置（弹出内建配置）"><a href="#八、less-配置（弹出内建配置）" class="headerlink" title="八、less 配置（弹出内建配置）"></a>八、<strong>less 配置（弹出内建配置）</strong></h2><h3 id="1-安装所需less依赖-1"><a href="#1-安装所需less依赖-1" class="headerlink" title="1.安装所需less依赖"></a>1.安装所需less依赖</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install less-loader less --save-dev</span><br></pre></td></tr></table></figure>
<h3 id="2-修改配置文件"><a href="#2-修改配置文件" class="headerlink" title="2.修改配置文件"></a>2.修改配置文件</h3><p>找到根目录下的config文件夹下的webpack.config.dev.js 和 webpack.config-prod.js</p>
<p>exclude的数组中/.css$/ 改为 /.(css|less)$/</p>
<p> /.(css|less)$/下的use数组中增加less-loader </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">use: [</span><br><span class="line">  &#123;</span><br><span class="line">    loader: require.resolve(&apos;css-loader&apos;),</span><br><span class="line">    options: &#123;</span><br><span class="line">      importLoaders: 1,</span><br><span class="line">      minimize: true,</span><br><span class="line">      sourceMap: shouldUseSourceMap,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    loader: require.resolve(&apos;postcss-loader&apos;),</span><br><span class="line">    options: &#123;</span><br><span class="line">      // Necessary for external CSS imports to work</span><br><span class="line">      // https://github.com/facebookincubator/create-react-app/issues/2677</span><br><span class="line">      ident: &apos;postcss&apos;,</span><br><span class="line">      plugins: () =&gt; [</span><br><span class="line">        require(&apos;postcss-flexbugs-fixes&apos;),</span><br><span class="line">        autoprefixer(&#123;</span><br><span class="line">          browsers: [</span><br><span class="line">            &apos;&gt;1%&apos;,</span><br><span class="line">            &apos;last 4 versions&apos;,</span><br><span class="line">            &apos;Firefox ESR&apos;,</span><br><span class="line">            &apos;not ie &lt; 9&apos;, // React doesn&apos;t support IE8 anyway</span><br><span class="line">          ],</span><br><span class="line">          flexbox: &apos;no-2009&apos;,</span><br><span class="line">        &#125;),</span><br><span class="line">      ],</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">+ &#123;</span><br><span class="line">+     loader: require.resolve(&apos;less-loader&apos;) // compiles Less to CSS</span><br><span class="line">+ &#125;</span><br><span class="line">],</span><br></pre></td></tr></table></figure>

        
            <div class="donate-container">
    <div class="donate-button">
        <button id="donate-button">赞赏</button>
    </div>
    <div class="donate-img-container hide" id="donate-img-container">
        <img id="donate-img" src="" data-src="/img/donate.jpg">
        <p> 感谢鼓励 </p>
    </div>
</div>
        
        <div id="comment-container">
        </div>
    </div>
</div>
        <div id="container"></div>
    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        

        

    </ul>
    
</footer>




</body>
<!--动态效果-->
<script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js"></script>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<!--评论-->

<script src="/js/gitment.js"></script>


<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
    var gitment = new Gitment({
        // id: location.href, // 可选。默认为 location.href
        owner: 'amy-tong126',
        repo: 'https://github.com/Amy-Tong126/Commits.git',
        oauth: {
            client_id: 'bd61aa77856ba4ceaee5',
            client_secret: 'b91c89fdb07fb2c9c62201a24c43de0d780400f3',
        },
    })
    gitment.render('container')
</script>


</html>
